<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>GrupoCine - Dashboard Administrativo</title>
        <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,600,1,0" />
    </head>
    <body>
        <header class="header">
            <div class="header-content">
                <h1>GrupoCine - Dashboard Administrativo</h1>
                <div class="header-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="totalSeats">50</span>
                        <span class="stat-label">Total de Cadeiras</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="occupiedSeats">0</span>
                        <span class="stat-label">Ocupadas</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="purchasedSeats">0</span>
                        <span class="stat-label">Compradas</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="availableSeats">50</span>
                        <span class="stat-label">Disponíveis</span>
                    </div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="dashboard-grid">
                <!-- Controle de Códigos -->
                <section class="panel code-management">
                    <h2><span class="material-symbols-rounded icon">key</span> Geração de Códigos</h2>
                    <div class="code-form">
                        <select id="seatSelect" class="seat-select">
                            <option value>Selecione uma cadeira</option>
                        </select>
                        <button id="generateCodeBtn" class="btn btn-primary">
                            Gerar Código
                        </button>
                    </div>

                    <div id="codeResult" class="code-result"
                        style="display: none;">
                        <div class="code-display">
                            <h3>Código Gerado:</h3>
                            <div class="code-value" id="generatedCode"></div>
                            <div class="code-info">
                                <p><strong>Cadeira:</strong> <span
                                        id="codeSeat"></span></p>
                                <p><strong>Expira em:</strong> <span
                                        id="codeExpiry"></span></p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Mapa de Assentos -->
                <section class="panel seat-map">
                    <h2><span class="material-symbols-rounded icon">map</span> Mapa de Assentos</h2>
                    <div class="cinema-container">
                        <div class="screen">TELA</div>
                        <div class="seating-area" id="adminSeatingArea">
                            <!-- Assentos serão gerados dinamicamente -->
                        </div>
                    </div>
                </section>

                <!-- Atividade em Tempo Real -->
                <section class="panel activity-feed">
                    <h2><span class="material-symbols-rounded icon">monitoring</span> Atividade em Tempo Real</h2>
                    <div class="activity-list" id="activityList">
                        <!-- Atividades serão adicionadas dinamicamente -->
                    </div>
                </section>

                <!-- Códigos Ativos -->
                <section class="panel active-codes">
                    <h2><span class="material-symbols-rounded icon">confirmation_number</span> Códigos Ativos</h2>
                    <div class="codes-list" id="activeCodesList">
                        <!-- Códigos ativos serão listados aqui -->
                    </div>
                </section>

                <!-- Histórico Detalhado -->
                <section class="panel history">
                    <h2><span class="material-symbols-rounded icon">history</span> Histórico Detalhado</h2>
                    <div class="history-controls">
                        <input type="text" id="searchHistory"
                            placeholder="Buscar por cadeira..."
                            class="search-input">
                        <select id="statusFilter" class="filter-select">
                            <option value>Todos os Status</option>
                            <option value="active">Ativo</option>
                            <option value="completed">Finalizado</option>
                            <option value="expired">Expirado</option>
                        </select>
                    </div>
                    <div class="history-table-container">
                        <table class="history-table" id="historyTable">
                            <thead>
                                <tr>
                                    <th>Cadeira</th>
                                    <th>Código</th>
                                    <th>Status</th>
                                    <th>Início</th>
                                    <th>Fim</th>
                                    <th>Duração</th>
                                    <th>IP</th>
                                </tr>
                            </thead>
                            <tbody id="historyTableBody">
                                <!-- Dados serão preenchidos dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </main>

        <!-- Notificações -->
        <div id="notifications" class="notifications"></div>

        <!-- Modal de Confirmação -->
        <div id="confirmModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3 id="modalTitle">Confirmar Ação</h3>
                <p id="modalMessage">Tem certeza que deseja continuar?</p>
                <div class="modal-actions">
                    <button id="modalCancel"
                        class="btn btn-secondary">Cancelar</button>
                    <button id="modalConfirm"
                        class="btn btn-danger">Confirmar</button>
                </div>
            </div>
        </div>

        <footer class="app-footer" role="contentinfo">
            Desenvolvido por
            <a href="https://plataforma.gpinovacao.senai.br/plataforma/ideia/263775" target="_blank" rel="noopener noreferrer">LYS TEC. MOVIE</a>
        </footer>

        <script src="js/dashboard.js"></script>
    </body>
</html>
